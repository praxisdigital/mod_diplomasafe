{"version":3,"sources":["../src/template_ajax.js"],"names":["define","$","$pageWrapper","templateField","loadAjax","$ajaxWrapper","find","sessionKey","data","selectedTemplateId","val","languageId","ajax","type","url","sesskey","selected_template_id","language_id","success","html","on","selectedOption","hiddenField"],"mappings":"AAMAA,OAAM,iCAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAC3B,MAAO,CACH,KAAS,eAAW,IA8BZC,CAAAA,CAAY,CAAGD,CAAC,CAAC,2BAAD,CA9BJ,CA+BZE,CAAa,CAAG,GA1BpB,UAAuBD,CAAvB,CAAqC,CACjC,KAAKE,QAAL,CAAgB,UAAW,IACnBC,CAAAA,CAAY,CAAGH,CAAY,CAACI,IAAb,CAAkB,cAAlB,CADI,CAEnBC,CAAU,CAAGF,CAAY,CAACG,IAAb,CAAkB,aAAlB,CAFM,CAGnBC,CAAkB,CAAGP,CAAY,CAACI,IAAb,CAAkB,wBAAlB,EAA0CI,GAA1C,EAHF,CAInBC,CAAU,CAAGT,CAAY,CAACI,IAAb,CAAkB,iCAAlB,EAAqDI,GAArD,EAJM,CAKvBT,CAAC,CAACW,IAAF,CAAO,CACHC,IAAI,CAAG,KADJ,CAEHC,GAAG,CAAG,yCAFH,CAGHN,IAAI,CAAG,CACHO,OAAO,CAAGR,CADP,CAEHS,oBAAoB,CAAGP,CAFpB,CAGHQ,WAAW,CAAGN,CAHX,CAHJ,CAQHO,OAAO,CAAG,iBAASV,CAAT,CAAe,CACrBN,CAAY,CAACI,IAAb,CAAkB,cAAlB,EAAkCa,IAAlC,CAAuCX,CAAvC,EACAN,CAAY,CAACI,IAAb,CAAkB,WAAlB,EAA+Bc,EAA/B,CAAkC,QAAlC,CAA4C,UAAW,IAC/CC,CAAAA,CAAc,CAAGpB,CAAC,CAAC,IAAD,CAAD,CAAQK,IAAR,CAAa,iBAAb,CAD8B,CAE/CgB,CAAW,CAAGpB,CAAY,CAACI,IAAb,CAAkB,wBAAlB,CAFiC,CAGnDgB,CAAW,CAACZ,GAAZ,CAAgBW,CAAc,CAACX,GAAf,EAAhB,CACH,CAJD,CAKH,CAfE,CAAP,CAiBH,CACJ,CAEmB,CAAkBR,CAAlB,CA/BJ,CAgChBC,CAAa,CAACC,QAAd,GACAF,CAAY,CAACI,IAAb,CAAkB,iBAAlB,EAAqCc,EAArC,CAAwC,QAAxC,CAAkD,UAAW,CACzDjB,CAAa,CAACC,QAAd,EACH,CAFD,CAGH,CArCE,CAuCV,CAxCK,CAAN","sourcesContent":["/**\n * @developer   Johnny Drud\n * @date        07-01-2021\n * @company     https://diplomasafe.com\n * @copyright   2021 Diplomasafe ApS\n */\ndefine(['jquery'], function($) {\n    return {\n        'init' : function() {\n            /**\n             * @param $pageWrapper\n             * @constructor\n             */\n            function TemplateField($pageWrapper) {\n                this.loadAjax = function() {\n                    var $ajaxWrapper = $pageWrapper.find('#ajax-result');\n                    var sessionKey = $ajaxWrapper.data('session-key');\n                    var selectedTemplateId = $pageWrapper.find('[name=\"template_id\"]').val();\n                    var languageId = $pageWrapper.find('#id_language_id option:selected').val();\n                    $.ajax({\n                        type : 'GET',\n                        url : '/mod/diplomasafe/ajax/template_ajax.php',\n                        data : {\n                            sesskey : sessionKey,\n                            selected_template_id : selectedTemplateId,\n                            language_id : languageId\n                        },\n                        success : function(data) {\n                            $pageWrapper.find('#ajax-result').html(data);\n                            $pageWrapper.find('#template').on('change', function() {\n                                var selectedOption = $(this).find('option:selected');\n                                var hiddenField = $pageWrapper.find('[name=\"template_id\"]');\n                                hiddenField.val(selectedOption.val());\n                            });\n                        }\n                    });\n                };\n            }\n            var $pageWrapper = $('#page-mod-diplomasafe-mod');\n            var templateField = new TemplateField($pageWrapper);\n            templateField.loadAjax();\n            $pageWrapper.find('#id_language_id').on('change', function() {\n                templateField.loadAjax();\n            });\n        }\n    };\n});\n"],"file":"template_ajax.min.js"}