define ("mod_diplomasafe/template_ajax",["jquery","core/ajax","core/notification"],function(a,b,c){return{init:function init(){var d=a("#page-mod-diplomasafe-mod"),e=new function(a){this.$pageWrapper=a;this.input=this.$pageWrapper.find("#template_id_select");this.loadAjax=function(d){var e=a.find("[name=\"template_id\"]").val(),f=a.find("#id_language_id option:selected").val();if(!f){this.input.prop("disabled",!0);this.empty();return}this.input.prop("disabled",!1);this.input.val("");var g=this,h=b.call([{methodname:"mod_diplomasafe_get_templates",args:{language_id:f}}]);h[0].done(function(a){g.empty();g.addData(a);if(d&&0!==parseInt(e)){g.input.val(e)}}).fail(c.exception)};this.empty=function(){this.input.empty();this.input.append(new Option(M.str.mod_diplomasafe.select_default_option_template,""))};this.addData=function(a){if(0===a.templates.length){return}for(var b in a.templates){if("undefined"==typeof a.templates[b]){continue}var c=a.templates[b];this.input.append(new Option(c.name,c.id))}};this.getHidden=function(){return this.$pageWrapper.find("[name=\"template_id\"]")}}(d),f=e.getHidden();e.loadAjax(!0);d.find("#id_language_id").on("change",function(){f.val("");e.loadAjax(!1)});d.find("#template_id_select").on("change",function(){f.val("");var b=a(this);if(b){f.val(b.val())}})}}});
//# sourceMappingURL=template_ajax.min.js.map
